<!DOCTYPE html>
<html lang="pt-BR">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<meta name="description" content="Descubra todos os seus direitos e benefÃ­cios do governo brasileiro. IA jurÃ­dica gratuita que pensa como advogado.">
<meta name="theme-color" content="#1B8C4E">
<meta name="apple-mobile-web-app-capable" content="yes">
<meta name="apple-mobile-web-app-status-bar-style" content="default">
<meta name="apple-mobile-web-app-title" content="Direitos Brasileiros">
<title>Direitos Brasileiros â€” ConheÃ§a seus direitos</title>
<link rel="preconnect" href="https://fonts.googleapis.com">
<link href="https://fonts.googleapis.com/css2?family=DM+Sans:wght@300;400;500;700&display=swap" rel="stylesheet">
<style>
/* â•â• VARIÃVEIS â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â• */
:root {
  --verde:#1B8C4E; --verde-c:#2AB866; --verde-bg:#E8F5EE;
  --azul:#1A56A0; --azul-c:#EEF4FC;
  --ouro:#C9A84C; --ouro-c:#FDF5DC;
  --vm:#C0392B; --vm-c:#FDECEA;
  --or:#D4620A; --or-c:#FEF0E6;
  --bg:#F8F9FA; --branco:#FFFFFF;
  --c1:#F1F3F5; --c2:#E9ECEF; --c3:#DEE2E6;
  --c4:#CED4DA; --c5:#ADB5BD; --c6:#6C757D;
  --txt:#1A1D23; --txt2:#495057;
  --sombra:0 4px 20px rgba(0,0,0,0.06);
  --sombra-md:0 10px 30px rgba(0,0,0,0.10);
  --r:16px; --rs:10px;
}
*{margin:0;padding:0;box-sizing:border-box;-webkit-tap-highlight-color:transparent;}
body{font-family:'DM Sans',sans-serif;background:var(--bg);color:var(--txt);-webkit-font-smoothing:antialiased;overflow-x:hidden;}
.app{max-width:420px;margin:0 auto;min-height:100vh;background:var(--bg);position:relative;display:flex;flex-direction:column;}
.tela{display:none;animation:fadeUp .4s cubic-bezier(0.16, 1, 0.3, 1);}
.tela.ativa{display:block;}
.tela.flex{display:none;}
.tela.flex.ativa{display:flex;flex-direction:column;flex:1;}
@keyframes fadeUp{from{opacity:0;transform:translateY(15px)}to{opacity:1;transform:translateY(0)}}

/* BOTÃ•ES GLOBAIS */
.btn-p{width:100%;padding:18px;background:var(--verde);color:#fff;border:none;border-radius:var(--r);font-size:16px;font-weight:700;cursor:pointer;transition:all .2s;display:flex;align-items:center;justify-content:center;gap:10px;}
.btn-p:hover{background:#166b3c;transform:scale(1.01);}
.btn-p:active{transform:scale(0.98);}
.btn-o{width:100%;padding:16px;background:transparent;color:var(--txt2);border:1.5px solid var(--c3);border-radius:var(--r);font-size:15px;font-weight:500;cursor:pointer;transition:all .2s;}
.btn-o:hover{border-color:var(--verde);color:var(--verde);background:var(--verde-bg);}
.btn-back{width:40px;height:40px;background:var(--branco);border:1px solid var(--c2);border-radius:12px;font-size:18px;cursor:pointer;color:var(--txt);display:flex;align-items:center;justify-content:center;transition:all .2s;}
.btn-back:hover{background:var(--c1);}

/* â•â• TELA SPLASH â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â• */
#t-splash{background:var(--branco);min-height:100vh;}
.sp-cont{height:100vh;display:flex;flex-direction:column;justify-content:space-between;padding:60px 32px 40px;}
.sp-logo-box{display:flex;flex-direction:column;align-items:center;text-align:center;margin-top:40px;}
.sp-logo{width:88px;height:88px;background:var(--verde);border-radius:24px;display:flex;align-items:center;justify-content:center;font-size:42px;margin-bottom:24px;box-shadow:0 12px 30px rgba(27,140,78,0.25);animation:logoBounce 2s infinite ease-in-out;}
@keyframes logoBounce{0%,100%{transform:translateY(0)}50%{transform:translateY(-10px)}}
.sp-titulo{font-size:32px;font-weight:700;letter-spacing:-1px;line-height:1.1;margin-bottom:12px;}
.sp-titulo span{color:var(--verde);}
.sp-sub{font-size:16px;color:var(--c6);line-height:1.6;max-width:280px;}
.sp-feat{display:flex;flex-direction:column;gap:12px;margin:40px 0;}
.feat{display:flex;align-items:center;gap:12px;font-size:14px;color:var(--txt2);font-weight:500;}
.feat-i{width:28px;height:28px;background:var(--verde-bg);color:var(--verde);border-radius:8px;display:flex;align-items:center;justify-content:center;font-size:14px;}

/* â•â• TELA IDENTIFICAÃ‡ÃƒO â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â• */
#t-ident{background:var(--branco);min-height:100vh;padding:24px;}
.hdr-back{margin-bottom:32px;}
.id-titulo{font-size:26px;font-weight:700;margin-bottom:10px;letter-spacing:-0.5px;}
.id-sub{font-size:15px;color:var(--c6);margin-bottom:32px;line-height:1.5;}
.id-form{display:flex;flex-direction:column;gap:20px;}
.inp-grp{display:flex;flex-direction:column;gap:8px;}
.inp-lbl{font-size:14px;font-weight:700;color:var(--txt2);}
.inp-fld{width:100%;padding:16px;background:var(--c1);border:2px solid transparent;border-radius:var(--r);font-size:16px;font-family:inherit;transition:all .2s;outline:none;}
.inp-fld:focus{background:var(--branco);border-color:var(--verde);box-shadow:0 0 0 4px var(--verde-bg);}

/* â•â• TELA CHAT â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â• */
#t-chat{background:var(--bg);}
.ch-hdr{background:var(--branco);padding:16px 20px;border-bottom:1px solid var(--c2);display:flex;align-items:center;justify-content:space-between;position:sticky;top:0;z-index:10;}
.ch-pfp{display:flex;align-items:center;gap:12px;}
.ch-ava{width:42px;height:42px;background:var(--verde);border-radius:14px;display:flex;align-items:center;justify-content:center;font-size:20px;position:relative;}
.ch-ava::after{content:'';width:10px;height:10px;background:#2ecc71;border:2px solid #fff;border-radius:50%;position:absolute;bottom:-2px;right:-2px;}
.ch-info-nm{font-size:15px;font-weight:700;}
.ch-info-st{font-size:12px;color:var(--verde);font-weight:500;}
.prog-container{position:absolute;bottom:0;left:0;width:100%;height:3px;background:var(--c2);}
.prog-fill{height:100%;background:var(--verde);width:0%;transition:width 1s cubic-bezier(0.16, 1, 0.3, 1);}

.ch-msgs{flex:1;padding:20px;display:flex;flex-direction:column;gap:16px;overflow-y:auto;background:var(--bg);height:calc(100vh - 160px);}
.msg{max-width:85%;display:flex;flex-direction:column;animation:msgIn 0.3s ease-out;}
@keyframes msgIn{from{opacity:0;transform:translateY(10px)}to{opacity:1;transform:translateY(0)}}
.msg-ia{align-self:flex-start;}
.msg-usr{align-self:flex-end;}
.msg-nm{font-size:11px;font-weight:700;color:var(--c6);margin-bottom:4px;margin-left:4px;}
.balao{padding:14px 18px;border-radius:20px;font-size:15px;line-height:1.55;position:relative;}
.msg-ia .balao{background:var(--branco);color:var(--txt);border-bottom-left-radius:4px;box-shadow:var(--sombra);}
.msg-usr .balao{background:var(--verde);color:var(--branco);border-bottom-right-radius:4px;box-shadow:0 4px 15px rgba(27,140,78,0.2);}

/* TYPING INDICATOR */
.typing{display:flex;gap:5px;padding:12px 18px;background:var(--branco);border-radius:20px;border-bottom-left-radius:4px;width:fit-content;box-shadow:var(--sombra);}
.dot{width:7px;height:7px;background:var(--c4);border-radius:50%;animation:dotPulse 1.4s infinite ease-in-out;}
.dot:nth-child(2){animation-delay:0.2s;}.dot:nth-child(3){animation-delay:0.4s;}
@keyframes dotPulse{0%,80%,100%{transform:scale(0.6);opacity:0.4}40%{transform:scale(1);opacity:1}}

/* INPUT AREA */
.ch-input-area{background:var(--branco);padding:12px 16px 30px;border-top:1px solid var(--c2);position:sticky;bottom:0;}
.ch-box{background:var(--c1);border:1.5px solid transparent;border-radius:24px;padding:8px 8px 8px 20px;display:flex;align-items:center;gap:10px;transition:all 0.2s;}
.ch-box:focus-within{background:var(--branco);border-color:var(--verde);box-shadow:var(--sombra);}
.txt-fld{flex:1;background:transparent;border:none;outline:none;font-family:inherit;font-size:15px;max-height:100px;min-height:24px;resize:none;padding:8px 0;}
.btn-env{width:40px;height:40px;background:var(--verde);color:#fff;border:none;border-radius:50%;display:flex;align-items:center;justify-content:center;cursor:pointer;transition:all 0.2s;flex-shrink:0;}
.btn-env:disabled{background:var(--c4);transform:scale(0.9);}

/* â•â• TELA RESULTADO â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â• */
#t-res{background:var(--bg);padding-bottom:100px;}
.res-hdr{background:var(--verde);padding:40px 24px 60px;color:#fff;text-align:center;border-radius:0 0 30px 30px;box-shadow:var(--sombra-md);}
.res-ava{width:70px;height:70px;background:rgba(255,255,255,0.2);border:2px solid #fff;border-radius:25px;display:flex;align-items:center;justify-content:center;font-size:30px;margin:0 auto 16px;}
.res-nm{font-size:20px;font-weight:700;}
.res-st{font-size:14px;opacity:0.9;margin-top:4px;}

.res-body{padding:20px;margin-top:-30px;}
.res-grid{display:grid;grid-template-columns:1fr 1fr;gap:12px;margin-bottom:24px;}
.res-card{background:var(--branco);padding:20px 16px;border-radius:20px;box-shadow:var(--sombra);text-align:center;}
.res-card-v{font-size:24px;font-weight:700;color:var(--verde);display:block;}
.res-card-l{font-size:12px;color:var(--c6);font-weight:600;text-transform:uppercase;letter-spacing:0.5px;margin-top:4px;}

.res-sec{background:var(--branco);border-radius:20px;padding:24px;box-shadow:var(--sombra);margin-bottom:16px;}
.res-sec-t{font-size:16px;font-weight:700;margin-bottom:16px;display:flex;align-items:center;gap:10px;}
.res-sec-t i{width:32px;height:32px;background:var(--verde-bg);color:var(--verde);border-radius:10px;display:flex;align-items:center;justify-content:center;font-style:normal;font-size:16px;}
.res-lista{display:flex;flex-direction:column;gap:12px;}
.dire-item{padding:14px;background:var(--bg);border-radius:14px;border-left:4px solid var(--verde);}
.dire-t{font-size:14px;font-weight:700;color:var(--txt);}
.dire-d{font-size:12px;color:var(--c6);margin-top:4px;line-height:1.4;}

/* â•â• NAVBAR MOBILE â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â• */
.nav-mob{position:fixed;bottom:20px;left:50%;transform:translateX(-50%);width:90%;max-width:380px;background:rgba(255,255,255,0.9);backdrop-filter:blur(10px);border:1px solid rgba(255,255,255,0.3);padding:10px;border-radius:24px;display:none;justify-content:space-between;box-shadow:var(--sombra-md);z-index:100;}
.nav-mob.on{display:flex;}
.nav-i{flex:1;display:flex;flex-direction:column;align-items:center;gap:4px;background:transparent;border:none;color:var(--c5);font-size:10px;font-weight:700;cursor:pointer;padding:8px;}
.nav-i.ativa{color:var(--verde);}
.nav-i-ico{font-size:22px;}

/* UTILS */
.hide{display:none !important;}
</style>
</head>
<body>

<div class="app">

  <div id="t-splash" class="tela ativa">
    <div class="sp-cont">
      <div class="sp-logo-box">
        <div class="sp-logo">âš–ï¸</div>
        <h1 class="sp-titulo">Direitos<br><span>Brasileiros</span></h1>
        <p class="sp-sub">O assistente com InteligÃªncia Artificial que ajuda vocÃª a encontrar benefÃ­cios do governo.</p>
      </div>
      
      <div class="sp-feat">
        <div class="feat"><div class="feat-i">âœ“</div> AnÃ¡lise jurÃ­dica instantÃ¢nea</div>
        <div class="feat"><div class="feat-i">âœ“</div> Busca de benefÃ­cios sociais</div>
        <div class="feat"><div class="feat-i">âœ“</div> ProteÃ§Ã£o de dados garantida</div>
      </div>

      <div class="sp-btns">
        <button class="btn-p" onclick="ir('t-ident')">ComeÃ§ar consulta gratuita â”</button>
        <p style="text-align:center;font-size:12px;color:var(--c5);margin-top:16px;">Uso gratuito â€¢ Sem compromisso</p>
      </div>
    </div>
  </div>

  <div id="t-ident" class="tela">
    <div class="hdr-back">
      <button class="btn-back" onclick="ir('t-splash')">â†</button>
    </div>
    <h2 class="id-titulo">Como podemos chamar vocÃª?</h2>
    <p class="id-sub">Para uma consultoria personalizada, precisamos de alguns dados bÃ¡sicos.</p>
    
    <div class="id-form">
      <div class="inp-grp">
        <label class="inp-lbl">Seu nome ou apelido</label>
        <input type="text" id="usr-nome" class="inp-fld" placeholder="Ex: Maria Souza" autocomplete="name">
      </div>
      <div class="inp-grp">
        <label class="inp-lbl">Cidade onde mora</label>
        <input type="text" id="usr-cidade" class="inp-fld" placeholder="Ex: SÃ£o Paulo - SP">
      </div>
      <div style="margin-top:10px">
        <button class="btn-p" onclick="iniciarChat()">Acessar assistente agora</button>
      </div>
    </div>
  </div>

  <div id="t-chat" class="tela flex">
    <div class="ch-hdr">
      <div class="ch-pfp">
        <div class="ch-ava">ğŸ¤–</div>
        <div class="ch-info">
          <div class="ch-info-nm">Dr. Direitos (IA)</div>
          <div class="ch-info-st" id="chat-st">â— Online</div>
        </div>
      </div>
      <div class="prog-container">
        <div class="prog-fill" id="chat-prog"></div>
      </div>
    </div>

    <div class="ch-msgs" id="ch-msgs">
      </div>

    <div class="ch-input-area">
      <div class="ch-box">
        <textarea id="chat-input" class="txt-fld" placeholder="Descreva sua situaÃ§Ã£o aqui..." rows="1"></textarea>
        <button id="btn-env" class="btn-env" onclick="enviarMsg()" disabled>â”</button>
      </div>
      <p style="font-size:10px;color:var(--c5);text-align:center;margin-top:10px;">IA pode cometer erros. Revise informaÃ§Ãµes importantes.</p>
    </div>
  </div>

  <div id="t-res" class="tela">
    <div class="res-hdr">
      <div class="res-ava" id="res-in">?</div>
      <div class="res-nm" id="res-nome">Seu Perfil</div>
      <div class="res-st">AnÃ¡lise baseada no seu relato</div>
    </div>

    <div class="res-body">
      <div class="res-grid">
        <div class="res-card">
          <span class="res-card-v" id="num-direitos">0</span>
          <span class="res-card-l">Direitos</span>
        </div>
        <div class="res-card">
          <span class="res-card-v">Gratuito</span>
          <span class="res-card-l">Tipo</span>
        </div>
      </div>

      <div class="res-sec">
        <div class="res-sec-t"><i>ğŸ¯</i> DiagnÃ³stico da IA</div>
        <div id="res-ia-text" style="font-size:14px; color:var(--txt2); line-height:1.6;">
          Aguardando anÃ¡lise completa...
        </div>
      </div>

      <div class="res-sec">
        <div class="res-sec-t"><i>ğŸ“‹</i> PrÃ³ximos Passos</div>
        <div class="res-lista">
          <div class="dire-item">
            <div class="dire-t">Reunir DocumentaÃ§Ã£o</div>
            <div class="dire-d">RG, CPF e comprovante de residÃªncia atualizado sÃ£o essenciais para qualquer pedido.</div>
          </div>
          <div class="dire-item">
            <div class="dire-t">Agendar no CRAS</div>
            <div class="dire-d">Procure o Centro de ReferÃªncia de AssistÃªncia Social mais prÃ³ximo da sua casa.</div>
          </div>
        </div>
      </div>
      
      <button class="btn-o" style="margin-top:10px" onclick="ir('t-chat')">Voltar ao Chat</button>
    </div>
  </div>

  <div class="nav-mob" id="nav-mob">
    <button class="nav-i ativa" id="nav-chat" onclick="nav('t-chat')">
      <span class="nav-i-ico">ğŸ’¬</span>
      <span>Chat</span>
    </button>
    <button class="nav-i" id="nav-res" onclick="nav('t-res')">
      <span class="nav-i-ico">ğŸ“Š</span>
      <span>AnÃ¡lise</span>
    </button>
    <button class="nav-i" onclick="location.reload()">
      <span class="nav-i-ico">ğŸ”„</span>
      <span>Reiniciar</span>
    </button>
  </div>

</div>

<script>
/* â•â• CONFIGURAÃ‡Ã•ES E ESTADO â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â• */
const GEMINI_KEY = "AIzaSyCTcvuorbzqDZbwz004HPlOGITmqokB0IQ"; 
const GEMINI_URL = `https://generativelanguage.googleapis.com/v1beta/models/gemini-2.0-flash:generateContent?key=${GEMINI_KEY}`;

let perfil = { nome: "", cidade: "" };
let historico = [];
let progresso = 0;

// Prompt mestre para a IA
const SYSTEM_PROMPT = `VocÃª Ã© o "Dr. Direitos", um assistente especialista em leis e benefÃ­cios brasileiros (como BPC, Bolsa FamÃ­lia, AuxÃ­lio GÃ¡s, Seguro Desemprego, IsenÃ§Ã£o de impostos, etc). 
Sua missÃ£o Ã© conversar de forma amigÃ¡vel com o usuÃ¡rio, coletar informaÃ§Ãµes sobre a vida dele e identificar possÃ­veis direitos.
REGRAS:
1. Comece sendo empÃ¡tico.
2. NÃ£o dÃª certezas absolutas, diga "VocÃª pode ter direito".
3. Se identificar direitos, liste-os de forma clara.
4. Ao final da anÃ¡lise, se achar que terminou, escreva no final da mensagem exatamente: "[FINAL_ANALISE: X]" onde X Ã© o nÃºmero de direitos encontrados.`;

/* â•â• NAVEGAÃ‡ÃƒO â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â• */
function ir(id) {
  document.querySelectorAll('.tela').forEach(t => t.classList.remove('ativa'));
  document.getElementById(id).classList.add('ativa');
  window.scrollTo(0,0);
}

function nav(id) {
  ir(id);
  document.querySelectorAll('.nav-i').forEach(n => n.classList.remove('ativa'));
  if(id === 't-chat') document.getElementById('nav-chat').classList.add('ativa');
  if(id === 't-res') document.getElementById('nav-res').classList.add('ativa');
}

/* â•â• LÃ“GICA DO CHAT â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â• */
function iniciarChat() {
  const nome = document.getElementById('usr-nome').value.trim();
  const cidade = document.getElementById('usr-cidade').value.trim();

  if(!nome) return alert("Por favor, digite seu nome.");
  
  perfil.nome = nome;
  perfil.cidade = cidade;
  
  document.getElementById('res-nome').innerText = nome;
  document.getElementById('res-in').innerText = nome.charAt(0).toUpperCase();
  
  ir('t-chat');
  document.getElementById('nav-mob').classList.add('on');
  
  const saudacao = `OlÃ¡ ${nome}! Sou o Dr. Direitos. Notei que vocÃª fala de ${cidade}. Me conte um pouco sobre sua situaÃ§Ã£o atual (se estÃ¡ trabalhando, se tem filhos, se cuida de algum idoso ou pessoa com deficiÃªncia). Estou aqui para ajudar vocÃª a encontrar seus direitos.`;
  
  addMsg("ia", saudacao);
  historico.push({ role: "model", parts: [{ text: saudacao }] });
}

async function enviarMsg() {
  const input = document.getElementById('chat-input');
  const btn = document.getElementById('btn-env');
  const txt = input.value.trim();
  
  if(!txt) return;
  
  addMsg("usr", txt);
  input.value = "";
  input.style.height = "24px";
  btn.disabled = true;
  
  historico.push({ role: "user", parts: [{ text: txt }] });
  
  // Efeito de progresso simulado
  atualizarProgresso();
  
  // Chamar Gemini
  await chamarIA();
}

async function chamarIA() {
  const status = document.getElementById('chat-st');
  const msgsCont = document.getElementById('ch-msgs');
  
  status.innerText = "â— Pensando...";
  
  // Adiciona o balÃ£o de "digitando"
  const typ = document.createElement('div');
  typ.id = "typing-indic";
  typ.className = "msg msg-ia";
  typ.innerHTML = `<div class="typing"><div class="dot"></div><div class="dot"></div><div class="dot"></div></div>`;
  msgsCont.appendChild(typ);
  msgsCont.scrollTop = msgsCont.scrollHeight;

  try {
    const response = await fetch(GEMINI_URL, {
      method: "POST",
      headers: { "Content-Type": "application/json" },
      body: JSON.stringify({
        system_instruction: { parts: [{ text: SYSTEM_PROMPT }] },
        contents: historico
      })
    });

    const data = await response.json();
    const aiResp = data.candidates[0].content.parts[0].text;
    
    // Remove "digitando"
    document.getElementById('typing-indic').remove();
    
    addMsg("ia", aiResp);
    historico.push({ role: "model", parts: [{ text: aiResp }] });
    
    // Verificar se terminou a anÃ¡lise
    verificarFinal(aiResp);

  } catch (error) {
    console.error(error);
    document.getElementById('typing-indic').remove();
    addMsg("ia", "Desculpe, tive um pequeno problema tÃ©cnico. Pode repetir?");
  } finally {
    status.innerText = "â— Online";
    document.getElementById('btn-env').disabled = false;
  }
}

function addMsg(tipo, txt) {
  const cont = document.getElementById('ch-msgs');
  const div = document.createElement('div');
  div.className = `msg msg-${tipo}`;
  
  const nome = tipo === 'ia' ? 'Dr. Direitos' : 'VocÃª';
  const limpo = txt.replace(/\[FINAL_ANALISE: \d+\]/g, ""); // Remove a tag tÃ©cnica do texto visual

  div.innerHTML = `
    <div class="msg-nm">${nome}</div>
    <div class="balao">${limpo.replace(/\n/g, '<br>')}</div>
  `;
  
  cont.appendChild(div);
  cont.scrollTop = cont.scrollHeight;
}

function atualizarProgresso() {
  progresso += 25;
  if(progresso > 100) progresso = 100;
  document.getElementById('chat-prog').style.width = progresso + "%";
}

function verificarFinal(texto) {
  const match = texto.match(/\[FINAL_ANALISE: (\d+)\]/);
  if(match) {
    const num = match[1];
    document.getElementById('num-direitos').innerText = num;
    document.getElementById('res-ia-text').innerHTML = texto
      .replace(/\[FINAL_ANALISE: \d+\]/g, "")
      .replace(/\n/g, '<br>');
    
    setTimeout(() => {
      if(confirm("Dr. Direitos terminou a anÃ¡lise! Deseja ver o resumo dos seus direitos agora?")) {
        nav('t-res');
      }
    }, 1500);
  }
}

/* â•â• EVENTOS â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â• */
document.getElementById('chat-input').addEventListener('input', function() {
  this.style.height = 'auto';
  this.style.height = (this.scrollHeight) + 'px';
  document.getElementById('btn-env').disabled = this.value.trim().length === 0;
});

// Enviar com Enter
document.getElementById('chat-input').addEventListener('keydown', function(e) {
  if (e.key === 'Enter' && !e.shiftKey && window.innerWidth > 900) {
    e.preventDefault();
    enviarMsg();
  }
});

// Auto-focar nome ao entrar na tela 1
function checkFocus() {
  if(document.getElementById('t-ident').classList.contains('ativa')) {
    document.getElementById('usr-nome').focus();
  }
}

</script>
</body>
</html>
